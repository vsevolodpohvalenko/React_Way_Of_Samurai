{"version":3,"sources":["HOC/WithAuthRedirect.jsx","components/Profile/MyPosts/Profileinfo/Profileinfo.module.css","components/Profile/MyPosts/Post/Post.module.css","assets/img/ProfilePhoto.jpeg","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/MyPosts/Profileinfo/ProfileStatus.jsx","components/Profile/MyPosts/Profileinfo/Profileinfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["MapStateToProps","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Post","className","s","item","border","src","Ava","alt","message","likeCount","href","likeform","maxLengthCreator10","maxLengthCreator","AddPostFormReducer","reduxForm","form","action","onSubmit","handleSubmit","Field","tex","component","TextArea","placeholder","validate","required","name","type","bcol","MyPosts","profile","Preloader","postElements","store","getState","ProfilePage","posts","map","p","key","id","main","fullName","aboutMe","lookingForAJobDescription","contacts","instagram","github","values","addPost","postMessage","MyPostContainer","newPostText","dispatch","postMessageBody","addPostActionCreator","updateNewPostText","text","updateNewPostTextActionCreator","ProfileStatus","editMode","status","activateEditMode","setState","deactivateEditMode","updateStatus","onStatusChange","e","currentTarget","value","prevProps","prevState","onClick","onChange","autoFocus","onBlur","bind","Profileinfo","photos","large","photoProfile","Profile","MyPostsContainer","ProfileContainer","userId","match","params","MyID","history","push","MyProfile","getStatus","compose","withRouter","setUserProfile"],"mappings":"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","file":"static/js/3.29d2a88b.chunk.js","sourcesContent":["import React, {Component} from 'react'\r\nimport {Redirect, Route} from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport Preloader from \"../components/preloader/Preloader\";\r\nlet MapStateToProps = (state) =>{\r\nreturn {isAuth: state.auth.isAuth}\r\n}\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {debugger\r\n            if (!this.props.isAuth) {\r\n                \r\n                return <Redirect to= 'Login' />\r\n            } \r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    let ConnectWithAuthRedirectComponent = connect(MapStateToProps)(RedirectComponent)\r\n    return ConnectWithAuthRedirectComponent\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bcol\":\"Profileinfo_bcol__27ja1\",\"main\":\"Profileinfo_main__27PYE\",\"tex\":\"Profileinfo_tex__10QVI\",\"item\":\"Profileinfo_item__35gjY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1W6Qk\",\"likes\":\"Post_likes__vByGm\",\"likeform\":\"Post_likeform__1Mh1x\",\"border\":\"Post_border__2JgcG\"};","module.exports = __webpack_public_path__ + \"static/media/ProfilePhoto.b9975517.jpeg\";","import React, {Component } from 'react';\r\nimport s from './Post.module.css'\r\nconst Post = (props) =>{\r\n  return <div className={s.item}>\r\n<div className={s.border}>\r\n<img src={props.Ava} alt=\"\"/>\r\n {props.message}<img  />\r\n <div>\r\n \r\n<span > {props.likeCount}<a href=\"Â£\" className={s.likeform}>likes</a></span>\r\n\r\n </div>\r\n</div>\r\n</div>\r\n}\r\nexport default Post;","import React, {} from 'react';\r\nimport s from \"./Profileinfo/Profileinfo.module.css\"\r\nimport Post from './Post/Post';\r\nimport store from '../../../redux/redux_store';\r\nimport Preloader from '../../preloader/Preloader';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLengthCreator } from '../../../utils/validators';\r\nimport { TextArea } from '../../preloader/FormControls';\r\nconst MyPosts = (props) =>{\r\nlet AddPost = (values) => {\r\n  props.addPost(values.postMessage)\r\n}\r\n  if (props.profile === null){\r\n    return <Preloader/>\r\n  }\r\n\r\n  let state = store.getState().ProfilePage\r\n\r\n  let postElements = state.posts.map( p => <Post message = {p.message} likeCount ={p.likeCount} Ava={p.Ava} key={p.id}/>)\r\n\r\nreturn <div className={s.item}>\r\n  <div className={s.main} >\r\n  {props.profile.fullName} <br/>\r\n  {props.profile.aboutMe} <br/>\r\n  {props.profile.lookingForAJobDescription} <br/>\r\n  {props.profile.contacts.instagram}<br/>\r\n  {props.profile.contacts.github}<br/>\r\n\r\n\r\n  </div>\r\n  <h2 className={s.item} >My Post</h2>\r\n  <AddPostFormReducer onSubmit ={AddPost}/>\r\n  <div className={s.posts}>\r\n                { postElements }\r\n            </div>\r\n  </div>\r\n}\r\nlet maxLengthCreator10 = maxLengthCreator(10)\r\nconst AddPostForm = (props) =>{\r\n return <form action=\"\" onSubmit ={props.handleSubmit}>\r\n    <Field className={s.tex} component ={TextArea} placeholder={\"Share your impression\"} validate={[required, maxLengthCreator10]} name = {\"postMessage\"}   type=\"text\"/>\r\n    <button  className={s.bcol}  >Send</button>\r\n  </form>\r\n}\r\n\r\nconst AddPostFormReducer = reduxForm({\r\n  form : \"post\"\r\n})(AddPostForm)\r\nexport default MyPosts;","import React, {Component } from 'react';\r\nimport { updateNewPostTextActionCreator, addPostActionCreator } from '../../../redux/profile_reducer';\r\nimport { connect } from 'react-redux';\r\nimport MyPosts from './MyPosts';\r\n\r\nlet mapStateToProps= (state) => {\r\n\r\n  return {\r\n    posts: state.ProfilePage.posts,\r\n    newPostText: state.ProfilePage.newPostText,\r\n    profile:state.ProfilePage.profile\r\n    \r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n return {\r\n   addPost: (postMessageBody) =>{\r\n    dispatch(addPostActionCreator(postMessageBody))\r\n    },\r\n    updateNewPostText: (text) =>{\r\n      dispatch(updateNewPostTextActionCreator(text));\r\n    }\r\n    }\r\n\r\n}\r\n\r\n\r\nconst MyPostContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\nexport default MyPostContainer;","import React from \"react\"\r\nclass ProfileStatus extends React.Component{\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\nactivateEditMode = () => {\r\n    this.setState({\r\n    editMode: true})\r\n\r\n}\r\ndeactivateEditMode = () => {\r\n    this.setState({\r\n    editMode: false})\r\n    this.props.updateStatus(this.state.status)\r\n}\r\n    onStatusChange =(e) =>{\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\ncomponentDidUpdate (prevProps, prevState) {\r\n   if (prevProps.status !== this.props.status){\r\n    this.setState()}\r\n}\r\nrender(){\r\nreturn <>\r\n    <div>\r\n        {!this.state.editMode && \r\n        <span onClick= {this.activateEditMode}> {this.props.status || 'HI'} </span>}\r\n    </div>\r\n    <div>\r\n    {this.state.editMode &&\r\n    <input onChange={this.onStatusChange} autoFocus={true} onBlur = {this.deactivateEditMode.bind(this)}  value={this.state.status}/>}\r\n    </div>\r\n</>}\r\n}\r\nexport default ProfileStatus;","import React, {Component } from 'react';\r\nimport s from './Profileinfo.module.css'\r\nimport { updateNewPostTextActionCreator, addPostActionCreator } from '../../../../redux/profile_reducer';\r\nimport Preloader from '../../../preloader/Preloader';\r\nimport ProfileStatusWithHooks from './ProfileStatus';\r\nimport photoProfile from '../../../../assets/img/ProfilePhoto.jpeg'\r\nconst Profileinfo = ({profile, updateStatus, status}) =>{\r\n\r\nif (profile === null){\r\n  return <Preloader />\r\n}\r\n\r\n  return (\r\n  <div>\r\n<div className={s.main} ><img src={profile.photos.large != null ? profile.photos.large : photoProfile} alt=\"\"/>\r\n<ProfileStatusWithHooks status= {status} updateStatus = {updateStatus} />\r\n</div>\r\n</div>)\r\n}\r\nexport default Profileinfo;","import React, {Component } from 'react';\r\nimport s from './Profile.module.css'\r\nimport MyPosts from './MyPosts/MyPosts';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\"\r\nimport Profileinfo from './MyPosts/Profileinfo/Profileinfo';\r\nimport {updateStatus} from \"../../redux/profile_reducer\";\r\n\r\nconst Profile = (props) =>{\r\n\r\n  return <div> \r\n  <div>\r\n  <img src=\"https://zurichguide.ru/wp-content/uploads/2016/08/Thun-castle-long.jpg\"/>\r\n  </div>\r\n<Profileinfo  profile={props.profile} status= {props.status} updateStatus ={props.updateStatus} />\r\n<MyPostsContainer profile={props.profile}  store={props.store} />\r\n</div>\r\n}\r\nexport default Profile;","import React, {Component } from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport {setUserProfile, MyProfile, getStatus, updateStatus} from '../../redux/profile_reducer'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { WithAuthRedirect } from '../../HOC/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n \r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\nlet userId = this.props.match.params.userId;\r\nif (!userId){\r\n  userId = this.props.MyID;\r\n  if (!userId) {\r\n    this.props.history.push(\"/Login\")\r\n  }\r\n}\r\nthis.props.MyProfile(userId)\r\nthis.props.getStatus(userId)\r\n\r\n}\r\n   render() {\r\n     return (\r\n       <div>\r\n         \r\n         <Profile {...this.props.profile} profile= {this.props.profile} status = {this.props.status} updateStatus ={this.props.updateStatus} />\r\n       </div>\r\n     )\r\n   }\r\n }\r\n//  let mapStateToProps = (state) =>({\r\n//   profile: state.ProfilePage.profile,\r\n//   status: state.ProfilePage.status, \r\n//   MyID: state.auth.userId,\r\n//   isAuth:  state.auth.isAuth\r\n//  })\r\nlet mapStateToProps = (state) =>({\r\n  profile: state.ProfilePage.profile,\r\n  status: state.ProfilePage.status, \r\n  MyID: state.auth.userId,\r\n  isAuth:  state.auth.isAuth\r\n })\r\n\r\n export default compose( withRouter, connect(mapStateToProps, {setUserProfile,MyProfile, getStatus, updateStatus }), WithAuthRedirect)(ProfileContainer)"],"sourceRoot":""}